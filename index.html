<!DOCTYPE html>
<html>
<head>
  <title>Wafer Café</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/jpeg" href="assets/icon/favicon.jpeg"
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <meta name="keywords" content="emulator, games, unblocked, gaming, game website, unblocked games, nintendo ds emulator, nintendo 64 emulator, gba emulator, monkey mart, jetpack joyride, solitare, super mario 64, sm64, basket bros, crossy road, blumgi rocket, cookie clicker, knife hit, tiny fishing, burrito bison, wafer cafe, wafer café, wafer cafe unblocked, wafer café unblocked, unblocked games wafer cafe, unblocked games wafer café">
   <script>
    function toggleDropDown() {
      var dropdown = document.getElementById("dropdown");
      dropdown.classList.toggle("open");
    }
    
    function encodePasskey(passkey) {
      return btoa(passkey);
    }

    function decodePasskey(encodedPasskey) {
      return atob(encodedPasskey);
    }
  </script>
</head>
<body>
  <div id="header">
    <h1><a href="#">The Wafer Café</a></h1>
    <div class="button-container-header">
      <button id="toggleDropDown" onclick="toggleDropDown()">Gam̷e Filtering</button>
    </div>
  </div>
  <div class="container">
    <div class="button-container" onclick="location.href='monkeymart/'">
	<img src="/monkeymart/img.jpeg" alt="Monkey Mart">
	<span class="button-text">Monkey Mart</span>
    </div>
    <div class="button-container" onclick="location.href='jetpackjoyride/'">
	<img src="/jetpack-joyride/img.jpeg" alt="Jetpack Joyride">
	<span class="button-text">Jetpack Joyride</span>
    </div>
    <div class="button-container" onclick="location.href='solitare/'">
	<img src="/solitare/img.jpeg" alt="Google Solitaire">
	<span class="button-text">Google Solitaire</span>
    </div>
    <div class="button-container" onclick="location.href='sm64js/'">
        <img src="/sm64js/img.jpeg" alt="Super Mario 64">
        <span class="button-text">Super Mario 64</span>
    </div>
    <div class="button-container" onclick="location.href='basket-bros/'">
	<img src="/basket-bros/img.jpeg" alt="Basket Bros">
	<span class="button-text">Basket Bros</span>
    </div>
    <div class="button-container" onclick="location.href='crossyroad/'">
	<img src="/crossy-road/img.jpeg" alt="Crossy Road">
	<span class="button-text">Crossy Road</span>
    </div>
    <div class="button-container" onclick="location.href='blumgi-rocket/'">
	<img src="/blumgi-rocket/img.jpeg" alt="Blumgi Rocket">
	<span class="button-text">Blumgi Rocket</span>
    </div>
    <div class="button-container" onclick="location.href='cookie-clicker/'">
	<img src="/cookie-clicker/img.jpeg" alt="Cookie Clicker">
	<span class="button-text">Cookie Clicker</span>
    </div>
    <div class="button-container" onclick="location.href='knifehit/'">
	<img src="/knifehit/img.jpeg" alt="Knife Hit">
	<span class="button-text">Knife Hit</span>
    </div>
    <div class="button-container" onclick="location.href='tiny-fishing/'">
	<img src="/tiny-fishing/img.jpeg" alt="Tiny Fishing">
	<span class="button-text">Tiny Fishing</span>
    </div>
    <!-- end of buttons -->
  </div>
  <div id="dropdown">
      <h2 style="margin-top: 50px;">Sort By</h2>
      <button onclick="location.href='/'"><i>Games</i></button>
      <button onclick="location.href='emulators/'">Emulators</button>
  </div>
  <script>
   var now = new Date();
   var currentHour = now.getHours();
   var currentMinute = now.getMinutes();

   var encodedPasskey = "dHgz";

   if ((currentHour > 7 || (currentHour === 7 && currentMinute >= 55)) && (currentHour < 14 || (currentHour === 14 && currentMinute <= 45))) 
       var passkeyEnteredEncoded = localStorage.getItem('allowed_for_day');
       if (passkeyEnteredEncoded === encodedPasskey) {
           console.log('User already entered the correct passkey today.');
       } else 
           var passkey = prompt('School is now in hours. You will need a passkey to continue.');
           if (passkey === decodePasskey(encodedPasskey)) {
               localStorage.setItem('allowed_for_day', encodedPasskey);
               console.log('User entered correct passkey.');
           } else {
               alert('Incorrect passkey. Redirecting to registration.');
               location.href('register/');
           }
       }
   } else {
       console.log('Outside of school hours.');
   }
  </script>
</body>
</html>
